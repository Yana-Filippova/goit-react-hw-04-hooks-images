{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Error/Error.module.css","components/Loader/Loader.js","components/Searchbar/Searchbar.js","components/Container/Container.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/pixabay-api.js","components/Button/Button.js","components/Error/no_result_found.jpg","components/Error/Error.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","LoaderComponent","type","color","height","width","timeout","Searchbar","onSubmit","useState","imageName","setImageName","className","styles","SearchForm","event","preventDefault","trim","toast","error","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","toLowerCase","Container","children","modalRoot","document","querySelector","Modal","onClose","src","alt","useEffect","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","target","ImageGalleryItem","largeImageURL","showModal","setShowModal","toggleModal","ImageGalleryItemImage","ImageGallery","images","map","webformatURL","tags","id","api","fetchImage","page","fetch","then","response","ok","json","Promise","reject","Error","Button","onClickLoadMore","ErrorComponent","role","errorImage","Status","App","setImages","status","setStatus","setError","currentPage","setCurrentPage","pixabayAPI","total","dark","prevState","hits","catch","finally","setTimeout","scrollBy","top","behavior","style","margin","textAlign","fontFamily","fontSize","fontStyle","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a40a4dab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1jniP\",\"Modal\":\"Modal_Modal__KbR48\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2uL27\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1ZAVA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__2LyEq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2W5F5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1WpAO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Error_Wrapper__16bNW\",\"errorImg\":\"Error_errorImg__3oAR_\"};","import Loader from 'react-loader-spinner';\n\nexport default function LoaderComponent() {\n  return (\n    <Loader\n      type=\"Hearts\"\n      color=\"#3f51b5\"\n      height={160}\n      width={160}\n      timeout={3000}\n    />\n  );\n}\n\n//Class usage\n// class LoaderComponent extends Component {\n//   render() {\n//     return (\n//       <Loader\n//         type=\"Hearts\"\n//         color=\"#3f51b5\"\n//         height={160}\n//         width={160}\n//         timeout={3000}\n//       />\n//     );\n//   }\n// }\n\n// export default LoaderComponent;\n","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport styles from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleNameChange = event => {\n    setImageName(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (imageName.trim() === '') {\n      toast.error('Please, enter necessary information');\n      return;\n    }\n\n    onSubmit(imageName);\n    setImageName('');\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={styles.SearchFormButton}>\n          <span className={styles.SearchFormButtonLabel}></span>\n        </button>\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"imageName\"\n          value={imageName}\n          onChange={handleNameChange}\n        />\n      </form>\n    </header>\n  );\n}\n\n//Class usage\n// class Searchbar extends Component {\n//   state = {\n//     imageName: '',\n//   };\n\n//   handleNameChange = event => {\n//     this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n//   };\n\n//   handleSubmit = event => {\n//     event.preventDefault();\n\n//     if (this.state.imageName.trim() === '') {\n//       toast.error('Please, enter necessary information!');\n//       return;\n//     }\n\n//     this.props.onSubmit(this.state.imageName);\n//     this.setState({ imageName: '' });\n//   };\n\n//   render() {\n//     return (\n//       <header className={styles.Searchbar}>\n//         <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n//           <button type=\"submit\" className={styles.SearchFormButton}>\n//             <span className={styles.SearchFormButtonLabel}></span>\n//           </button>\n//           <input\n//             className={styles.SearchFormInput}\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             name=\"imageName\"\n//             value={this.state.imageName}\n//             onChange={this.handleNameChange}\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\n// export default Searchbar;\n","import PropTypes from 'prop-types';\nimport styles from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={styles.Container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, src, alt }) {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleOverlayClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleOverlayClick}>\n      <div className={styles.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\n//Class usage\n// class Modal extends Component {\n//   static propTypes = {\n//     onClose: PropTypes.func.isRequired,\n//   };\n\n//   componentDidMount() {\n//     window.addEventListener('keydown', this.handleKeyDown);\n//   }\n\n//   componentWillUnmount() {\n//     window.removeEventListener('keydown', this.handleKeyDown);\n//   }\n\n//   handleKeyDown = e => {\n//     if (e.code === 'Escape') {\n//       this.props.onClose();\n//     }\n//   };\n\n//   handleOverlayClick = event => {\n//     if (event.currentTarget === event.target) {\n//       this.props.onClose();\n//     }\n//   };\n\n//   render() {\n//     const { src, alt } = this.props;\n\n//     return createPortal(\n//       <div className={styles.Overlay} onClick={this.handleOverlayClick}>\n//         <div className={styles.Modal}>\n//           <img src={src} alt={alt} />\n//         </div>\n//       </div>,\n//       modalRoot,\n//     );\n//   }\n// }\n\n// export default Modal;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal/Modal';\nimport styles from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ src, alt, largeImageURL }) {\n  const [showModal, setShowModal] = useState(false);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        className={styles.ImageGalleryItemImage}\n        onClick={toggleModal}\n      />\n\n      {showModal && (\n        <Modal onClose={toggleModal} src={largeImageURL} alt={alt} />\n      )}\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\n//Class usage\n// class ImageGalleryItem extends Component {\n//   state = {\n//     showModal: false,\n//   };\n\n//   static propTypes = {\n//     src: PropTypes.string.isRequired,\n//     alt: PropTypes.string.isRequired,\n//     largeImageURL: PropTypes.string.isRequired,\n//   };\n\n//   toggleModal = () => {\n//     this.setState(({ showModal }) => ({\n//       showModal: !showModal,\n//     }));\n//   };\n\n//   render() {\n//     const { src, alt, largeImageURL } = this.props;\n//     const { showModal } = this.state;\n\n//     return (\n//       <li className={styles.ImageGalleryItem}>\n//         <img\n//           src={src}\n//           alt={alt}\n//           className={styles.ImageGalleryItemImage}\n//           onClick={this.toggleModal}\n//         />\n\n//         {showModal && (\n//           <Modal onClose={this.toggleModal} src={largeImageURL} alt={alt} />\n//         )}\n//       </li>\n//     );\n//   }\n// }\n\n// export default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images }) => (\n  <ul className={styles.ImageGallery}>\n    {images &&\n      images.map(({ webformatURL, tags, largeImageURL, id }) => (\n        <ImageGalleryItem\n          src={webformatURL}\n          alt={tags}\n          largeImageURL={largeImageURL}\n          key={id}\n        />\n      ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default ImageGallery;\n","const KEY = '21910767-1ff9d0df6204712ecdebd388c';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImage(name, page) {\n  return fetch(\n    `${BASE_URL}?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error('Invalid request'));\n  });\n}\n\nconst api = {\n  fetchImage,\n};\n\nexport default api;\n\n\n\n\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClickLoadMore }) => (\n  <>\n    <button type=\"button\" className={styles.Button} onClick={onClickLoadMore}>\n      Load more\n    </button>\n  </>\n);\n\nButton.propTypes = {\n  onClickLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","export default __webpack_public_path__ + \"static/media/no_result_found.a8626203.jpg\";","import errorImage from './no_result_found.jpg';\r\nimport './Error.module.css';\r\n\r\nexport default function ErrorComponent() {\r\n  return (\r\n    <div role=\"alert\" className=\"Wrapper\">\r\n      <img className=\"errorImg\" src={errorImage} width=\"500\" alt=\"no_result_found\" />\r\n    </div>\r\n  );\r\n}\r\n\r\n","import { useState, useEffect } from 'react';\nimport LoaderComponent from './components/Loader';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Searchbar from './components/Searchbar';\nimport Container from './components/Container';\nimport ImageGallery from './components/ImageGallery';\nimport pixabayAPI from './services/pixabay-api';\nimport Button from './components/Button';\nimport ErrorComponent from './components/Error';\nimport './App.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function App() {\n  const [imageName, setImageName] = useState('');\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const handleSearchForm = imageName => {\n    setImageName(imageName);\n    setImages([]);\n    setCurrentPage(1);\n  };\n\n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n\n    setStatus(Status.PENDING);\n\n    pixabayAPI\n      .fetchImage(imageName, currentPage)\n      .then(images => {\n        if (images.total === 0) {\n          toast.dark('No images found. Please submit another query!');\n          setStatus(Status.REJECTED);\n          return;\n        }\n\n        setImages(prevState => [...prevState, ...images.hits]);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      })\n      .finally(() => {\n        setTimeout(() => {\n          window.scrollBy({\n            top: 500,\n            behavior: 'smooth',\n          });\n        }, 500);\n      });\n  }, [currentPage, imageName, error]);\n\n  const onClickLoadMore = () => {\n    setCurrentPage(prevState => prevState + 1);\n  };\n\n  return (\n    <Container>\n      <Searchbar onSubmit={handleSearchForm} />\n\n      {status === Status.IDLE && (\n        <div\n          style={{\n            margin: '15px auto',\n            textAlign: 'center',\n            fontFamily: 'Roboto, sans-serif',\n            fontSize: '25px',\n            fontStyle: 'italic',\n          }}\n        >\n          Please enter a query!\n        </div>\n      )}\n\n      {images.length > 0 && (\n        <>\n          <ImageGallery images={images} />\n          <Button onClickLoadMore={onClickLoadMore} />\n        </>\n      )}\n\n      {status === Status.PENDING && (\n        <>\n          <LoaderComponent />\n        </>\n      )}\n\n      {status === Status.REJECTED && (\n        <>\n          <ErrorComponent />\n        </>\n      )}\n\n      <ToastContainer autoClose={3000} />\n    </Container>\n  );\n}\n\n\n//Class usage\n// class App extends Component {\n//   state = {\n//     imageName: '',\n//   };\n\n//   handleSearchForm = imageName => {\n//     this.setState({ imageName });\n//   };\n\n//   render() {\n//     const { imageName } = this.state;\n\n//     return (\n//       <Container>\n//         <Searchbar onSubmit={this.handleSearchForm} />\n//         <ImageGalleryInfo\n//           imageName={imageName}\n//           currentPage={this.props.currentPage}\n//         />\n//         <ToastContainer autoClose={3000} />\n//       </Container>\n//     );\n//   }\n// }\n\n// export default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__aXArN\",\"SearchForm\":\"Searchbar_SearchForm__3FjUv\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3VVQJ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__38Olk\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3qYxF\"};"],"sourceRoot":""}